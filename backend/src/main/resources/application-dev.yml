spring:
  datasource:
    app:
      jdbc-url: ${DATABASE_URL}
      driver-class-name: org.postgresql.Driver
      maximum-pool-size: 10
      minimum-idle: 3
      connection-timeout: 10000
      validation-timeout: 5000
      idle-timeout: 600000
      max-lifetime: 1680000
      keepalive-time: 300000
      leak-detection-threshold: 60000
      connection-init-sql: SET search_path TO public
      data-source-properties:
        preparedStatementCacheQueries: 256
        preparedStatementCacheSizeMiB: 5
    migration:
      jdbc-url: ${DATABASE_MIGRATION_URL:${DATABASE_URL}}
      driver-class-name: org.postgresql.Driver
      maximum-pool-size: 2
      connection-timeout: 30000

  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

  flyway:
    enabled: false

  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${CLERK_ISSUER}
          jwk-set-uri: ${CLERK_JWKS_URI}

aws:
  s3:
    region: ${AWS_REGION:us-east-1}
    bucket-name: ${AWS_S3_BUCKET}

internal:
  api:
    key: ${INTERNAL_API_KEY}

portal:
  jwt:
    secret: ${PORTAL_JWT_SECRET}
