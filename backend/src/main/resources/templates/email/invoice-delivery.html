<div xmlns:th="http://www.thymeleaf.org">
  <h2 style="margin: 0 0 16px 0; font-size: 20px; font-weight: 600; color: #111827;">Invoice from <span th:text="${orgName != null ? orgName : 'DocTeams'}">DocTeams</span></h2>
  <p style="margin: 0 0 16px 0; font-size: 14px; line-height: 1.6; color: #374151;">
    Hi <span th:text="${customerName != null ? customerName : 'there'}">there</span>,
  </p>
  <p style="margin: 0 0 16px 0; font-size: 14px; line-height: 1.6; color: #374151;">
    Please find your invoice details below.
  </p>
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="margin: 0 0 16px 0;">
    <tr>
      <td style="padding: 16px; background-color: #f9fafb; border-radius: 6px;">
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%">
          <tr>
            <td style="padding: 4px 0; width: 50%;">
              <span style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em;">Invoice Number</span><br/>
              <span style="font-size: 14px; color: #111827; font-weight: 500;" th:text="${invoiceNumber != null ? invoiceNumber : 'N/A'}">N/A</span>
            </td>
            <td style="padding: 4px 0; width: 50%;">
              <span style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em;">Due Date</span><br/>
              <span style="font-size: 14px; color: #111827; font-weight: 500;" th:text="${dueDate != null ? dueDate : 'N/A'}">N/A</span>
            </td>
          </tr>
          <tr>
            <td style="padding: 8px 0 4px 0;" colspan="2">
              <span style="font-size: 12px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em;">Amount Due</span><br/>
              <span style="font-size: 20px; color: #111827; font-weight: 600;">
                <span th:text="${currency != null ? currency : ''}"></span>
                <span th:text="${amount != null ? amount : 'N/A'}">N/A</span>
              </span>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
  <!-- Pay Now button (only shown if paymentUrl is non-null) -->
  <div th:if="${paymentUrl}" style="text-align: center; margin: 24px 0 8px 0;">
    <table role="presentation" cellpadding="0" cellspacing="0" style="margin: 0 auto;">
      <tr>
        <td align="center" style="border-radius: 6px; background-color: #2563EB;">
          <a th:href="${paymentUrl}" style="display: inline-block; padding: 14px 32px; color: #ffffff; text-decoration: none; font-size: 16px; font-weight: 600; border-radius: 6px; background-color: #2563EB;">
            Pay Now
          </a>
        </td>
      </tr>
    </table>
  </div>
  <table role="presentation" cellpadding="0" cellspacing="0" style="margin: 24px 0;">
    <tr>
      <td align="center" style="border-radius: 6px;" th:style="'border-radius: 6px; background-color: ' + (${brandColor != null ? brandColor : '#2563EB'}) + ';'">
        <a th:href="${portalUrl}" style="display: inline-block; padding: 12px 24px; color: #ffffff; text-decoration: none; font-size: 14px; font-weight: 600; border-radius: 6px;" th:style="'display: inline-block; padding: 12px 24px; color: #ffffff; text-decoration: none; font-size: 14px; font-weight: 600; border-radius: 6px; background-color: ' + (${brandColor != null ? brandColor : '#2563EB'}) + ';'">
          View Invoice
        </a>
      </td>
    </tr>
  </table>
  <p style="margin: 0; font-size: 14px; line-height: 1.6; color: #374151;">
    Best,<br/>
    <span th:text="${orgName != null ? orgName : 'DocTeams'}">DocTeams</span>
  </p>
</div>
